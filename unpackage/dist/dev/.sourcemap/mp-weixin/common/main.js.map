{"version":3,"sources":["uni-app:///main.js",null,"webpack:////Users/peng.dang/Work/pengsoft/pengsoft-uniapp/App.vue?9ba5","uni-app:///App.vue","webpack:////Users/peng.dang/Work/pengsoft/pengsoft-uniapp/App.vue?0af6","webpack:////Users/peng.dang/Work/pengsoft/pengsoft-uniapp/App.vue?8faa"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","URL_PREFIX","uni","isAuthenticated","cache","getStorageSync","accessToken","expiredAt","Date","getTime","getAccessToken","value","getUserDetails","userDetails","hasAnyRole","roleCode","roles","some","role","Array","isArray","code","hasAuthority","authorityCode","authorities","authority","addInterceptor","invoke","args","showLoading","url","header","success","res","statusCode","failure","fail","complete","hideLoading","name","data","error","showToast","title","icon","showModal","content","error_description","showCancel","confirmColor","Vue","config","productionTip","App","mpType","app","$mount"],"mappings":";;;;;;;;;sDAAA,wCAA8E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkG9E,qE,8nFAlGmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAEnB,IAAMC,UAAU,GAAG,0BAAnB,CAEAC,GAAG,CAACC,eAAJ,GAAsB,YAAM,CAC3B,IAAMC,KAAK,GAAGF,GAAG,CAACG,cAAJ,CAAmB,UAAnB,CAAd,CACA,IAAMC,WAAW,GAAGF,KAAK,CAACE,WAA1B,CACA,OAAOA,WAAW,IAAIA,WAAW,CAACC,SAA3B,IAAwCD,WAAW,CAACC,SAAZ,GAAwB,IAAIC,IAAJ,GAAWC,OAAX,EAAxB,GAA+C,OAAO,EAAP,GAAY,EAA3D,GAC/C,CADA,CAEA,CALD,CAOAP,GAAG,CAACQ,cAAJ,GAAqB,YAAM,CAC1B,IAAMN,KAAK,GAAGF,GAAG,CAACG,cAAJ,CAAmB,UAAnB,CAAd,CACA,OAAOD,KAAK,CAACE,WAAN,CAAkBK,KAAzB,CACA,CAHD,CAKAT,GAAG,CAACU,cAAJ,GAAqB,YAAM,CAC1B,IAAMR,KAAK,GAAGF,GAAG,CAACG,cAAJ,CAAmB,UAAnB,CAAd,CACA,OAAOD,KAAK,CAACS,WAAb,CACA,CAHD,CAKAX,GAAG,CAACY,UAAJ,GAAiB,UAACC,QAAD,EAAc,CAC9B,IAAMX,KAAK,GAAGF,GAAG,CAACG,cAAJ,CAAmB,UAAnB,CAAd,CACA,OAAOD,KAAK,CAACS,WAAN,CAAkBG,KAAlB,CAAwBC,IAAxB,CAA6B,UAAAC,IAAI,EAAI,CAC3C,IAAIC,KAAK,CAACC,OAAN,CAAcL,QAAd,CAAJ,EAA6B,CAC5B,OAAOA,QAAQ,CAACE,IAAT,CAAc,UAAAI,IAAI,UAAIA,IAAI,KAAKH,IAAI,CAACG,IAAlB,EAAlB,CAAP,CACA,CAFD,MAEO,CACN,OAAOH,IAAI,CAACG,IAAL,KAAcN,QAArB,CACA,CACD,CANM,CAAP,CAOA,CATD,CAWAb,GAAG,CAACoB,YAAJ,GAAmB,UAACC,aAAD,EAAmB,CACrC,IAAMnB,KAAK,GAAGF,GAAG,CAACG,cAAJ,CAAmB,UAAnB,CAAd,CACA,OAAOD,KAAK,CAACS,WAAN,CAAkBW,WAAlB,CAA8BP,IAA9B,CAAmC,UAAAQ,SAAS,EAAI,CACtD,IAAIN,KAAK,CAACC,OAAN,CAAcG,aAAd,CAAJ,EAAkC,CACjC,OAAOA,aAAa,CAACN,IAAd,CAAmB,UAAAI,IAAI,UAAIA,IAAI,KAAKI,SAAb,EAAvB,CAAP,CACA,CAFD,MAEO,CACN,OAAOA,SAAS,KAAKF,aAArB,CACA,CACD,CANM,CAAP,CAOA,CATD,CAWArB,GAAG,CAACwB,cAAJ,CAAmB,SAAnB,EAA8B,EAC7BC,MAD6B,kBACtBC,IADsB,EAChB,CACZ1B,GAAG,CAAC2B,WAAJ,GAEAD,IAAI,CAACE,GAAL,GAAW7B,UAAU,GAAG2B,IAAI,CAACE,GAA7B,CAEA,IAAI,CAACF,IAAI,CAACG,MAAV,EAAkB,CACjBH,IAAI,CAACG,MAAL,GAAc,EAAd,CACA,CACD,IAAI,CAACH,IAAI,CAACG,MAAL,CAAY,cAAZ,CAAL,EAAkC,CACjCH,IAAI,CAACG,MAAL,CAAY,cAAZ,IAA8B,mCAA9B,CACA,EACD,IAAI7B,GAAG,CAACC,eAAJ,EAAJ,EAA2B,CAC1ByB,IAAI,CAACG,MAAL,CAAY,eAAZ,IAAgC,YAAY7B,GAAG,CAACQ,cAAJ,EAA5C,CACA,CAED,IAAMsB,OAAO,GAAGJ,IAAI,CAACI,OAArB,CACAJ,IAAI,CAACI,OAAL,GAAe,UAACC,GAAD,EAAS,CACvB,IAAIA,GAAG,CAACC,UAAJ,KAAmB,GAAvB,EAA4B,CAC3BC,OAAO,CAACF,GAAD,CAAP,CACA,CAFD,MAEO,CACND,OAAO,CAACC,GAAD,CAAP,CACA,CACD,CAND,CAOA,CAxB4B,EAyB7BG,IAzB6B,gBAyBxBR,IAzBwB,EAyBlB,CACVO,OAAO,CAACP,IAAD,CAAP,CACA,CA3B4B,EA4B7BS,QA5B6B,sBA4BlB,CACVnC,GAAG,CAACoC,WAAJ,GACA,CA9B4B,EAA9B,EAgCA,IAAMH,OAAO,GAAG,SAAVA,OAAU,CAACP,IAAD,EAAU,CACzB,QAAQA,IAAI,CAACM,UAAb,GACC,KAAK,GAAL,CACC,KAAK,IAAMK,IAAX,IAAmBX,IAAI,CAACY,IAAxB,EAA8B,4CACTZ,IAAI,CAACY,IAAL,CAAUD,IAAV,CADS,aAC7B,oDAAqC,KAA1BE,KAA0B,eACpCvC,GAAG,CAACwC,SAAJ,CAAc,EACbC,KAAK,EAAEF,KADM,EAEbG,IAAI,EAAE,OAFO,EAAd,EAIA,CAN4B,0DAO7B,CACD,MACD,QACC1C,GAAG,CAAC2C,SAAJ,CAAc,EACbF,KAAK,EAAE,IADM,EAEbG,OAAO,EAAElB,IAAI,CAACY,IAAL,CAAUO,iBAFN,EAGbC,UAAU,EAAE,KAHC,EAIbC,YAAY,EAAE,SAJD,EAAd,EAMA,MAlBF,CAoBA,CArBD;AAwBAC,aAAIC,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;AACAC,aAAIC,MAAJ,GAAa,KAAb;AACA,IAAMC,GAAG,GAAG,IAAIL,YAAJ;AACRG,YADQ,EAAZ;;AAGA,UAAAE,GAAG,EAACC,MAAJ,G;;;;;;;;;;;;;;;;;ACxGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACuD;AACL;AACa;;;AAG/D;AAC0M;AAC1M,gBAAgB,iNAAU;AAC1B,EAAE,yEAAM;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACe,gF;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAmyB,CAAgB,iyBAAG,EAAC,C;;;;;;;;;;;;ACCvzB;AACA;AACA;AACA,GAHA;AAIA;AACA;AACA,GANA;AAOA;AACA;AACA,GATA,E;;;;;;;;;;;ACDA;AAAA;AAAA;AAAA;AAAooC,CAAgB,8lCAAG,EAAC,C;;;;;;;;;;ACAxpC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"common/main.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import App from './App'\n\nconst URL_PREFIX = 'https://api.pengsoft.com';\n\nuni.isAuthenticated = () => {\n\tconst cache = uni.getStorageSync(\"pengsoft\")\n\tconst accessToken = cache.accessToken;\n\treturn accessToken && accessToken.expiredAt && accessToken.expiredAt - new Date().getTime() + 1000 * 60 * 30 >\n\t0;\n};\n\nuni.getAccessToken = () => {\n\tconst cache = uni.getStorageSync(\"pengsoft\")\n\treturn cache.accessToken.value;\n}\n\nuni.getUserDetails = () => {\n\tconst cache = uni.getStorageSync(\"pengsoft\")\n\treturn cache.userDetails;\n}\n\nuni.hasAnyRole = (roleCode) => {\n\tconst cache = uni.getStorageSync(\"pengsoft\");\n\treturn cache.userDetails.roles.some(role => {\n\t\tif (Array.isArray(roleCode)) {\n\t\t\treturn roleCode.some(code => code === role.code);\n\t\t} else {\n\t\t\treturn role.code === roleCode;\n\t\t}\n\t});\n}\n\nuni.hasAuthority = (authorityCode) => {\n\tconst cache = uni.getStorageSync(\"pengsoft\");\n\treturn cache.userDetails.authorities.some(authority => {\n\t\tif (Array.isArray(authorityCode)) {\n\t\t\treturn authorityCode.some(code => code === authority);\n\t\t} else {\n\t\t\treturn authority === authorityCode;\n\t\t}\n\t});\n}\n\nuni.addInterceptor('request', {\n\tinvoke(args) {\n\t\tuni.showLoading();\n\n\t\targs.url = URL_PREFIX + args.url;\n\n\t\tif (!args.header) {\n\t\t\targs.header = {};\n\t\t}\n\t\tif (!args.header['Content-Type']) {\n\t\t\targs.header['Content-Type'] = 'application/x-www-form-urlencoded';\n\t\t};\n\t\tif (uni.isAuthenticated()) {\n\t\t\targs.header['Authorization'] =  'Bearer ' + uni.getAccessToken();\n\t\t}\n\n\t\tconst success = args.success;\n\t\targs.success = (res) => {\n\t\t\tif (res.statusCode !== 200) {\n\t\t\t\tfailure(res);\n\t\t\t} else {\n\t\t\t\tsuccess(res);\n\t\t\t}\n\t\t};\n\t},\n\tfail(args) {\n\t\tfailure(args);\n\t},\n\tcomplete() {\n\t\tuni.hideLoading();\n\t}\n});\nconst failure = (args) => {\n\tswitch (args.statusCode) {\n\t\tcase 422:\n\t\t\tfor (const name in args.data) {\n\t\t\t\tfor (const error of args.data[name]) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: error,\n\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: args.data.error_description,\n\t\t\t\tshowCancel: false,\n\t\t\t\tconfirmColor: '#ff4d4f'\n\t\t\t});\n\t\t\tbreak;\n\t}\n};\n\nimport Vue from 'vue'\nVue.config.productionTip = false\nApp.mpType = 'app'\nconst app = new Vue({\n\t...App\n})\napp.$mount()","var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import mod from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"","<script>\r\n\texport default {\r\n\t\tonLaunch: function() {\r\n\t\t\tconsole.log('App Launch')\r\n\t\t},\r\n\t\tonShow: function() {\r\n\t\t\tconsole.log('App Show')\r\n\t\t},\r\n\t\tonHide: function() {\r\n\t\t\tconsole.log('App Hide')\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t/*每个页面公共css */\r\n</style>\n","import mod from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1648354431924\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}